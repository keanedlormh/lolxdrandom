<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Zombie Defense - Multijugador</title>

    <style>
        /* ... (CSS Mismo que el original) ... */
    </style>
</head>
<body>

    <canvas id="gameCanvas"></canvas>

    <div class="menu" id="mainMenu">
        <h1>üßü ZOMBIE DEFENSE</h1>

        <button id="btnStartSinglePlayer">JUGAR (1 JUGADOR)</button>
        <button id="btnShowMultiplayer">MULTIJUGADOR</button>
        <button id="btnShowSettings">CONFIGURACI√ìN</button>

        <div style="margin-top: 20px; font-size: 12px; text-align: center; color: #888;">
            v1.0 - Servidor Autoritativo
        </div>
    </div>

    <div class="menu hidden" id="settingsMenu">
        <h1>‚öôÔ∏è CONFIGURACI√ìN</h1>

        <label>Dificultad: <span class="value-display" id="difficultyValue">Normal</span></label>
        <input type="range" id="difficulty" min="1" max="3" value="2" oninput="updateSettings()"> 

        <label>Tama√±o Mapa: <span class="value-display" id="mapSizeValue">Mediano</span></label>
        <input type="range" id="mapSize" min="30" max="70" value="50" step="10" oninput="updateSettings()">

        <label>Velocidad Jugador: <span class="value-display" id="playerSpeedValue">3</span></label>
        <input type="range" id="playerSpeed" min="2" max="5" value="3" step="0.5" oninput="updateSettings()">

        <label>Cadencia Disparo: <span class="value-display" id="fireRateValue">Normal</span></label>
        <input type="range" id="fireRate" min="5" max="20" value="10" oninput="updateSettings()">

        <button id="btnHideSettings">VOLVER</button>
    </div>

    <div class="menu hidden game-over" id="gameOverMenu">
        <h2>üíÄ GAME OVER</h2>
        <div class="final-score">
            Puntuaci√≥n Final: <span id="finalScore">0</span>
        </div>
        <div>Oleada Alcanzada: <span id="finalWave">0</span></div>
        <div>Zombies Eliminados: <span id="finalKills">0</span></div>
        <button id="btnRestartGame">REINTENTAR</button>
        <button id="btnBackToMenu">MEN√ö PRINCIPAL</button>
    </div>


    <div class="menu hidden" id="multiplayerMenu">
        <h1>‚öîÔ∏è MULTIJUGADOR</h1>

        <label>Nombre de Jugador:</label>
        <input type="text" id="playerNameInput" placeholder="Tu Nombre">

        <button id="btnCreateLobby">CREAR PARTIDA</button>
        <button id="btnFindLobby">BUSCAR PARTIDA</button>
        <button id="btnShowMainMenu">VOLVER</button>
    </div>

    <div class="menu hidden" id="lobbiesListMenu">
        <h1>üîç SALAS DISPONIBLES</h1>

        <div id="lobbiesContainer">
            <p>Cargando salas...</p>
        </div>

        <button id="btnShowMultiplayerFromLobbies">VOLVER</button>
    </div>

    <div class="menu hidden" id="lobbyWaitMenu">
        <h1>üö™ SALA DE ESPERA</h1>

        <p>ID de Partida: <strong id="lobbyIdDisplay" style="color: #00ff00; font-size: 20px;">...</strong></p>

        <h3 style="margin-top: 15px;">Jugadores:</h3>

        <ul id="lobbyPlayersList"></ul>

        <button id="startMultiplayerButton" class="hidden">INICIAR PARTIDA</button>

        <button id="btnExitLobby">SALIR DEL LOBBY</button>
    </div>


    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>

    <script type="module" src="js/utils.js"></script>
    <script type="module" src="js/entities.js"></script>
    <script type="module" src="js/game.js"></script>

</body>
</html>
